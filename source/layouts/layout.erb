<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    
    <!-- Always force latest IE rendering engine or request Chrome Frame -->
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    
    <!-- Use title if it's in the page YAML frontmatter -->
    <title><%= current_page.data.title || "The Middleman" %></title>
    
    <%= stylesheet_link_tag "styles" %>
    <%= javascript_include_tag  "all" %>
    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <%= javascript_include_tag  "nv.d3.min" %>
    <%= javascript_include_tag "canvasjs.min.js" %>
    <script>
nv.addGraph(function() {
  var degreeChart = nv.models.pieChart()
      .x(function(d) { return d.degree })
      .y(function(d) { return d.percent })
      .tooltipContent(function (key, y, e, graph) {
          return '<h3>' + Math.round(y) + '%</h3>';
      })
      .showLabels(true)     //Display pie labels
      .showLegend(false)
      .color(["#edd6d8","#edc3c6","#edabb0","#ed949a","#ed7a82","#ed646f","#ed515d","#ed3543","#ed2635","#ed1525"]);

    d3.select("#degrees svg")
        .datum(degrees)
        .transition().duration(1200)
        .call(degreeChart);

  var humanChart = nv.models.pieChart()
      .x(function(d) { return d.gender })
      .y(function(d) { return d.percent })
      .tooltipContent(function (key, y, e, graph) {
          return '<h3>' + Math.round(y) + '%</h3>';
      })
      .showLabels(true)     //Display pie labels
      .showLegend(false)
      .height(400)
      .color(["#edd6d8","#edc3c6","#edabb0","#ed949a","#ed7a82","#ed646f","#ed515d","#ed3543","#ed2635","#ed1525"]);

    d3.select("#humanSciences svg")
        .datum(humanSciences)
        .transition().duration(1200)
        .call(humanChart);

  var engineerChart = nv.models.pieChart()
      .x(function(d) { return d.gender })
      .y(function(d) { return d.percent })
      .tooltipContent(function (key, y, e, graph) {
          return '<h3>' + Math.round(y) + '%</h3>';
      })
      .showLabels(true)     //Display pie labels
      .showLegend(false)
      .height(400)
      .color(["#edd6d8","#edc3c6","#edabb0","#ed949a","#ed7a82","#ed646f","#ed515d","#ed3543","#ed2635","#ed1525"]);

    d3.select("#engineering svg")
        .datum(engineering)
        .transition().duration(1200)
        .call(engineerChart);



  return chart;
});


// window.onload = function () {

//         CanvasJS.addColorSet("redShades",
//                 ["#edd6d8","#edc3c6","#edabb0","#ed949a","#ed7a82","#ed646f","#ed515d","#ed3543","#ed2635","#ed1525"]);
//     var chart = new CanvasJS.Chart("chartContainer",
//     {

//         backgroundColor: "transparent",
//         colorSet:  "redShades",



//        data: [
//       {
//       type: "pie",
//        showInLegend: false,
//         backgroundColor: "transparent",

//        // dataPoints: [
//        // {  y: 4181563, legendText:"PS 3", indexLabel: "PlayStation 3" },
//        // {  y: 2175498, legendText:"Wii", indexLabel: "Wii" },
//        // {  y: 3125844, legendText:"Xbox", indexLabel: "Xbox 360" },
//        // {  y: 1176121, legendText:"DS" , indexLabel: "Nintendo DS"},
//        // {  y: 1727161, legendText:"PSP", indexLabel: "PSP" },
//        // {  y: 4303364, legendText:"3DS" , indexLabel: "Nintendo 3DS"},
//        // {  y: 1717786, legendText:"Vita" , indexLabel: "PS Vita"}
//        // ]
//        dataPoints: [
//         // {indexLabel: "Business", y: 22, legendText: "management, marketing, and personal and culis"},
//         // {indexLabel: "Social Studies", y: 10, legendText: "social science and history"},
//         // {indexLabel: "Healthcare", y: 8, legendText: "health professions and related programs"},
//         // {indexLabel: "Education", y: 6, legendText: "sdf"},
//         // {indexLabel: "Psychology", "perfect": 6, legendText: "sd"},
//         // {indexLabel: "Visual Arts", y: 6, legendText: "performing arts"},
//         // {indexLabel: "Engineering", y: 5, legendText: "engineering technologies"},
//         // {indexLabel: "Biology", y: 5, legendText: "biomedical science"},
//         // {indexLabel: "Communication", y: 5, legendText: "communications technologies"},
//         // {indexLabel: "Computers", y: 3.5, legendText: "information sciences and support"},
//         // {indexLabel: "English", y: 3.5, legendText: "language and literature"},
//         // {indexLabel: "Liberal Arts", y: 3, legendText: "general studies and humanities"},
//         // {indexLabel: "Multi", y: 3, legendText: "interdisciplinary studies"},
//         // {indexLabel: "Law Enforcement", y: 2, legendText: "homeland security, firefighting and related protective services"},
//         // {indexLabel: "Agriculture", y: 2, legendText: "natural resources"},
//         // {indexLabel: "Public admin", y: 1.5, legendText: "social service professions"},
//         // {indexLabel: "Physical Sciences", y: 1.5, legendText: "science technologies"},
//         // {indexLabel: "Parks Recreation", y: 1, legendText: "leisure and fitness studies"},
//         // {indexLabel: "Human Sciences", y: 1, legendText: "sfd"},
//         // {indexLabel: "Foreign Languages", y: 1, legendText: "sdf"},
//         // {indexLabel: "Other", y: 4, legendText: "all other college majors"}
        
// {y: 22}, 
// {y: 10}, 
// {y: 8 },
// {y: 6 },
// {y: 6 },
// {y: 5 },
// {y: 5 },
// {y: 5 },
// {y: 3.5},
// {y: 3.5},
// {y: 3 },
// {y: 3 },
// {y: 2 },
// {y: 2 },
// {y: 1.5},
// {y: 1.5},
// {y: 1 },
// {y: 1 },
// {y: 1 },
// {y: 4 }


//        ]
//      }
//      ]
//    });

//     chart.render();
//   }

humanSciences = [
  {
    "gender":"Men",
    "percent": 12
  },
  {
    "gender": "Women",
    "percent": 88
  }
]

engineering = [
  {
    "gender":"Men",
    "percent": 83
  },
  {
    "gender": "Women",
    "percent": 17
  }
]

degrees = [
    {
    "degree": "Business",
        "percent": 22,
        "description": "management, marketing, and personal and culis"
  },
  {
    "degree": "Social Studies",
    "percent": 10,
    "description": "social science and history"
  },
  {
    "degree": "Healthcare",
    "percent": 8,
    "description": "health professions and related programs"
  },
  {
    "degree": "Education",
    "percent": 6,
    "description": ""
  },
  {
    "degree": "Psychology",
    "percent": 6,
    "description": ""
  },
  {
    "degree": "Visual Arts",
    "percent": 6,
    "description": "performing arts"
  },
  {
    "degree": "Engineering",
    "percent": 5,
    "description": "engineering technologies"
  },
  {
    "degree": "Biology",
    "percent": 5,
    "description": "biomedical science"
  },
  {
    "degree": "Communication",
    "percent": 5,
    "description": "communications technologies"
  },
  {
    "degree": "Computers",
    "percent": 3.5,
    "description": "information sciences and support"
  },
  {
    "degree": "English",
    "percent": 3.5,
    "description": "language and literature"
  },
  {
    "degree": "Liberal Arts",
    "percent": 3,
    "description": "general studies and humanities"
  },
  {
    "degree": "Multicultural",
    "percent": 3,
    "description": "interdisciplinary studies"
  },
  {
    "degree": "Law Enforcement",
    "percent": 2,
    "description": "homeland security, firefighting and related protective services"
  },
  {
    "degree": "Agriculture",
    "percent": 2,
    "description": "natural resources"
  },
  {
    "degree": "Other",
    "percent": 4,
    "description": "all other college majors"
  }
]

</script>


  </head>
  
  <body class="<%= page_classes %>">
    <%= yield %>
  </body>
</html>